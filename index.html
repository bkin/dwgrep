<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to dwgrep’s documentation! &mdash; dwgrep 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="dwgrep 0.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">dwgrep 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-dwgrep-s-documentation">
<span id="index"></span><h1>Welcome to dwgrep&#8217;s documentation!<a class="headerlink" href="#welcome-to-dwgrep-s-documentation" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="tutorial.html#tutorial"><em>Tutorial</em></a></li>
<li><a class="reference internal" href="syntax.html#syntax"><em>Syntax</em></a></li>
<li><a class="reference internal" href="vocabulary.html#vocabulary"><em>Vocabulary reference</em></a></li>
</ul>
<p>For complete table of contents, see <a class="reference internal" href="fulltoc.html#fulltoc"><em>Table of contents</em></a>.</p>
</div>
<div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Dwgrep is a tool, an associated language (called Zwerg) and a library
(libzwerg) for querying Dwarf (debuginfo) graphs.  If you want to find
out more about Dwarf, check out a <a class="reference external" href="http://www.dwarfstd.org/doc/Debugging%20using%20DWARF.pdf">short introductory text</a> or
download a <a class="reference external" href="http://dwarfstd.org/Download.php">Dwarf standard</a>.  But you can also pretend that Dwarf is
like XML, except nodes are called DIE&#8217;s.  That, and perusing the
output of <tt class="docutils literal"><span class="pre">eu-readelf</span> <span class="pre">-winfo</span></tt>, should be enough to get you started.</p>
<p>You can think of dwgrep expressions as instructions describing a
path through a graph, with assertions about the type of nodes along
the way: that a node is of given type, that it has a given
attribute, etc.  There are also means of expressing sub-conditions,
i.e. assertions that a given node is acceptable if a separate
expression matches (or doesn&#8217;t match) a different path through the
graph.</p>
<p>Apart from Dwarf objects (DIE&#8217;s, Attributes and others), Zwerg
expressions can work with integers, strings, and sequences of other
objects.</p>
<p>In particular, a simple expression in dwgrep might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>entry ?DW_TAG_subprogram child ?DW_TAG_formal_parameter @DW_AT_name
</pre></div>
</div>
<p>On a <a class="reference external" href="XXXlinktocommandlineoptions.">command line</a>, you would issue it like this:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dwgrep /some/file/somewhere -e &#39;entry ?DW_TAG_subprogram ...etc....&#39;
</pre></div>
</div>
<p>The query itself says: show me values of attribute <tt class="docutils literal"><span class="pre">DW_AT_name</span></tt> of
<tt class="docutils literal"><span class="pre">DW_TAG_formal_parameter</span></tt> nodes that are children of
<tt class="docutils literal"><span class="pre">DW_TAG_subprogram</span></tt> entries (which here means debug information
entries, or DIE&#8217;s).  Reading forward, you get list of instructions to
a matcher: take DIE&#8217;s, accept all <tt class="docutils literal"><span class="pre">DW_TAG_subprogram</span></tt>&#8216;s, look at
their children, accept those that are <tt class="docutils literal"><span class="pre">DW_TAG_formal_parameter</span></tt>,
take value of attribute <tt class="docutils literal"><span class="pre">DW_AT_name</span></tt>.</p>
<p>Another example comes from <tt class="docutils literal"><span class="pre">dwarflint</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>entry ?DW_AT_decl_column !DW_AT_decl_line
</pre></div>
</div>
<p>This looks for DIE&#8217;s that have <tt class="docutils literal"><span class="pre">DW_AT_decl_column</span></tt>, but don&#8217;t have
<tt class="docutils literal"><span class="pre">DW_AT_decl_line</span></tt>&#8211;a semantic violation that is worth reporting.</p>
</div>
<div class="section" id="computation">
<h1>Computation<a class="headerlink" href="#computation" title="Permalink to this headline">¶</a></h1>
<p>Conceptually, Zwerg expressions form a pipeline of functions.  Much
like the shell pipeline, the individual functions take input and
produce output, which then becomes input of the next function in
chain.  Unlike shell pipelines, Zwerg expressions operate with values
such as Dwarf file, DIE, attribute, abbreviation, number, or string,
and in fact operate on stacks of these values.</p>
<p>Each function in pipeline thus takes on input a stack of values, and
produces zero or more stacks on the output.  Note that producing
several stacks is different from producing an element that holds a
single value of type sequence.  You can think of it as if any function
could in theory fork (if it returns more than one stack), or terminate
(if it doesn&#8217;t return anything).</p>
<p>This may be best illustrated with an example.  Among the most trivial
Zwerg functions are literals, such as <tt class="docutils literal"><span class="pre">5</span></tt> or <tt class="docutils literal"><span class="pre">&quot;Blah&quot;</span></tt>.  For a
stack given on input, they produce one stack on output, with the
indicated value pushed to top:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dwgrep &#39;&quot;Hello, world!&quot;&#39;
Hello, world!
</pre></div>
</div>
<p>Another very simple function is <tt class="docutils literal"><span class="pre">length</span></tt>, which returns the input
stack with top value replaced with its length:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dwgrep &#39;&quot;Hello, world!&quot; length&#39;
13
</pre></div>
</div>
</div>
<div class="section" id="further-reading">
<h1>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h1>
<p>Now would be a good time to read through the <a class="reference internal" href="tutorial.html#tutorial"><em>Tutorial</em></a>, which
gives a step-by-step account on fundamental tools of Zwerg language.
You might also want to look at <a class="reference internal" href="syntax.html#syntax"><em>Syntax</em></a>, where individual Zwerg
forms are introduced and described.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to dwgrep&#8217;s documentation!</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#computation">Computation</a></li>
<li><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">dwgrep 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Petr Machata.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>